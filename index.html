<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>My MTG Collection</title>
    <style>
        .card { display: inline-block; margin: 10px; text-align: center; }
        img { width: 200px; }
        .card p { margin: 2px 0; }
    </style>
</head>
<body>
    <h1>My MTG Collection</h1>
    <div id="card-container"></div>

    <script>
        async function fetchCard(name, set) {
            let response = await fetch(`https://api.scryfall.com/cards/named?exact=${encodeURIComponent(name)}&set=${set}`);
            return response.ok ? response.json() : null;
        }

        async function loadCards() {
            let container = document.getElementById("card-container");
            let response = await fetch("cards.json");
            let cards = await response.json();

            for (let card of cards) {
                let data = await fetchCard(card.name, card.set);
                if (data) {

                    let priceEur = data.prices.eur ? parseFloat(data.prices.eur).toFixed(2) : "N/A";
                    let priceEurX4 = data.prices.eur ? (parseFloat(data.prices.eur) * 4).toFixed(2) : "N/A";

                    let cardElement = document.createElement("div");
                    cardElement.className = "card";
                    cardElement.innerHTML = `
                        <img src="${data.image_uris?.normal || ''}" alt="${card.name}">
                        <p>${card.name} (${data.set_name})</p>
                        <p>Price: â‚¬${priceEur} (PT x 4: ${priceEurX4} PLN)</p>
                    `;
                    container.appendChild(cardElement);
                }
            }
        }
        loadCards();
    </script>
</body>
</html>
